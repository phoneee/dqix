<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DQIX - Internet Observability Platform</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            daisyui: {
                themes: ["light", "dark", "cupcake", "synthwave", "cyberpunk"]
            }
        }
    </script>
</head>
<body class="min-h-screen bg-base-200">
    <div id="app">
        <!-- Navigation Header -->
        <div class="navbar bg-base-100 shadow-lg">
            <div class="navbar-start">
                <div class="dropdown">
                    <div tabindex="0" role="button" class="btn btn-ghost lg:hidden">
                        <i class="fas fa-bars text-xl"></i>
                    </div>
                    <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
                        <li><a @click="currentView = 'scanner'"><i class="fas fa-search"></i> Scanner</a></li>
                        <li><a @click="currentView = 'validator'"><i class="fas fa-check-circle"></i> Validator</a></li>
                        <li><a @click="currentView = 'analytics'"><i class="fas fa-chart-line"></i> Analytics</a></li>
                    </ul>
                </div>
                <a class="btn btn-ghost text-xl">
                    <i class="fas fa-globe text-primary"></i>
                    <span class="font-bold text-primary">DQIX</span>
                </a>
            </div>
            
            <div class="navbar-center hidden lg:flex">
                <ul class="menu menu-horizontal px-1">
                    <li><a @click="currentView = 'scanner'" :class="currentView === 'scanner' ? 'active' : ''">
                        <i class="fas fa-search"></i> Internet Scanner
                    </a></li>
                    <li><a @click="currentView = 'validator'" :class="currentView === 'validator' ? 'active' : ''">
                        <i class="fas fa-check-circle"></i> Security Validator
                    </a></li>
                    <li><a @click="currentView = 'analytics'" :class="currentView === 'analytics' ? 'active' : ''">
                        <i class="fas fa-chart-line"></i> Analytics
                    </a></li>
                </ul>
            </div>
            
            <div class="navbar-end">
                <div class="dropdown dropdown-end">
                    <div tabindex="0" role="button" class="btn btn-ghost">
                        <i class="fas fa-cog"></i>
                    </div>
                    <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52">
                        <li><label class="label cursor-pointer">
                            <span class="label-text">Dark Mode</span>
                            <input type="checkbox" class="toggle toggle-primary" @change="toggleTheme">
                        </label></li>
                        <li><a @click="showHelp = true"><i class="fas fa-question-circle"></i> Help</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="container mx-auto p-4">
            
            <!-- Scanner View -->
            <div v-if="currentView === 'scanner'" class="space-y-6">
                
                <!-- Scanner Header -->
                <div class="hero bg-gradient-to-r from-primary to-secondary text-primary-content rounded-lg">
                    <div class="hero-content text-center">
                        <div class="max-w-md">
                            <h1 class="mb-5 text-4xl font-bold">
                                <i class="fas fa-search-location"></i>
                                Internet Observability Scanner
                            </h1>
                            <p class="mb-5">Comprehensive Internet security and compliance assessment platform</p>
                        </div>
                    </div>
                </div>

                <!-- Scanner Input -->
                <div class="card bg-base-100 shadow-xl">
                    <div class="card-body">
                        <h2 class="card-title">
                            <i class="fas fa-globe text-primary"></i>
                            Domain Analysis
                        </h2>
                        
                        <div class="form-control">
                            <label class="label">
                                <span class="label-text font-semibold">Domain to analyze</span>
                                <span class="label-text-alt">Enter domain without protocol</span>
                            </label>
                            <div class="input-group">
                                <input 
                                    v-model="scanDomain" 
                                    type="text" 
                                    placeholder="github.com" 
                                    class="input input-bordered flex-1"
                                    @keyup.enter="startScan"
                                >
                                <button 
                                    @click="startScan" 
                                    class="btn btn-primary"
                                    :class="{ 'loading': isScanning }"
                                    :disabled="!scanDomain || isScanning"
                                >
                                    <i v-if="!isScanning" class="fas fa-search"></i>
                                    Scan
                                </button>
                            </div>
                        </div>

                        <!-- Scan Options -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                            <div class="form-control">
                                <label class="label">
                                    <span class="label-text">Detail Level</span>
                                </label>
                                <select v-model="scanOptions.detail" class="select select-bordered">
                                    <option value="basic">Basic</option>
                                    <option value="standard">Standard</option>
                                    <option value="full">Full</option>
                                    <option value="technical">Technical</option>
                                </select>
                            </div>
                            
                            <div class="form-control">
                                <label class="label">
                                    <span class="label-text">Specific Probe</span>
                                </label>
                                <select v-model="scanOptions.probe" class="select select-bordered">
                                    <option value="">All Probes</option>
                                    <option value="tls">TLS/SSL Only</option>
                                    <option value="https">HTTPS Only</option>
                                    <option value="dns">DNS Only</option>
                                    <option value="headers">Security Headers Only</option>
                                </select>
                            </div>
                            
                            <div class="form-control">
                                <label class="label">
                                    <span class="label-text">Timeout (seconds)</span>
                                </label>
                                <input v-model.number="scanOptions.timeout" type="number" class="input input-bordered" min="10" max="120">
                            </div>
                        </div>

                        <!-- Quick Test Buttons -->
                        <div class="divider">Quick Tests</div>
                        <div class="flex flex-wrap gap-2">
                            <button @click="quickTest('github.com')" class="btn btn-outline btn-sm">
                                <i class="fab fa-github"></i> GitHub
                            </button>
                            <button @click="quickTest('google.com')" class="btn btn-outline btn-sm">
                                <i class="fab fa-google"></i> Google
                            </button>
                            <button @click="quickTest('cloudflare.com')" class="btn btn-outline btn-sm">
                                <i class="fas fa-cloud"></i> Cloudflare
                            </button>
                            <button @click="quickTest('microsoft.com')" class="btn btn-outline btn-sm">
                                <i class="fab fa-microsoft"></i> Microsoft
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Scan Results -->
                <div v-if="scanResults" class="space-y-6">
                    
                    <!-- Overall Score Card -->
                    <div class="card bg-base-100 shadow-xl">
                        <div class="card-body">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h2 class="card-title text-2xl">
                                        <i class="fas fa-trophy text-warning"></i>
                                        Internet Health Score
                                    </h2>
                                    <p class="text-base-content/70">{{ scanResults.domain }}</p>
                                </div>
                                <div class="text-right">
                                    <div class="text-4xl font-bold" :class="getScoreClass(scanResults.overall_score)">
                                        {{ scanResults.overall_score.toFixed(1) }}%
                                    </div>
                                    <div class="badge badge-lg" :class="getGradeBadgeClass(scanResults.security_grade)">
                                        Grade {{ scanResults.security_grade }}
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Score Progress Bar -->
                            <div class="w-full bg-base-200 rounded-full h-3 mt-4">
                                <div 
                                    class="h-3 rounded-full transition-all duration-1000"
                                    :class="getScoreProgressClass(scanResults.overall_score)"
                                    :style="{ width: scanResults.overall_score + '%' }"
                                ></div>
                            </div>
                            
                            <div class="flex justify-between items-center mt-2">
                                <span class="text-sm text-base-content/70">Compliance Level</span>
                                <span class="font-semibold">{{ scanResults.compliance_level }}</span>
                            </div>
                        </div>
                    </div>

                    <!-- Probe Results Grid -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        
                        <!-- TLS Security -->
                        <div v-if="scanResults.probe_scores.tls !== undefined" class="card bg-base-100 shadow-xl">
                            <div class="card-body">
                                <h3 class="card-title">
                                    <i class="fas fa-shield-alt text-success"></i>
                                    TLS/SSL Security
                                    <div class="badge" :class="getScoreBadgeClass(scanResults.probe_scores.tls)">
                                        {{ scanResults.probe_scores.tls.toFixed(1) }}%
                                    </div>
                                </h3>
                                
                                <div class="space-y-3">
                                    <div class="flex justify-between">
                                        <span>Protocol Version</span>
                                        <span class="font-semibold">TLS 1.3</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Certificate Status</span>
                                        <span class="text-success">✅ Valid</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Cipher Strength</span>
                                        <span class="text-success">✅ Strong</span>
                                    </div>
                                </div>
                                
                                <div class="card-actions justify-end mt-4">
                                    <button @click="showProbeDetails('tls')" class="btn btn-outline btn-sm">
                                        <i class="fas fa-info-circle"></i> Details
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- HTTPS Implementation -->
                        <div v-if="scanResults.probe_scores.https !== undefined" class="card bg-base-100 shadow-xl">
                            <div class="card-body">
                                <h3 class="card-title">
                                    <i class="fas fa-globe text-info"></i>
                                    HTTPS Implementation
                                    <div class="badge" :class="getScoreBadgeClass(scanResults.probe_scores.https)">
                                        {{ scanResults.probe_scores.https.toFixed(1) }}%
                                    </div>
                                </h3>
                                
                                <div class="space-y-3">
                                    <div class="flex justify-between">
                                        <span>HTTPS Accessible</span>
                                        <span class="text-success">✅ Yes</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>HTTP Redirects</span>
                                        <span class="text-success">✅ Secure</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Response Time</span>
                                        <span class="font-semibold">245ms</span>
                                    </div>
                                </div>
                                
                                <div class="card-actions justify-end mt-4">
                                    <button @click="showProbeDetails('https')" class="btn btn-outline btn-sm">
                                        <i class="fas fa-info-circle"></i> Details
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- DNS Infrastructure -->
                        <div v-if="scanResults.probe_scores.dns !== undefined" class="card bg-base-100 shadow-xl">
                            <div class="card-body">
                                <h3 class="card-title">
                                    <i class="fas fa-server text-primary"></i>
                                    DNS Infrastructure
                                    <div class="badge" :class="getScoreBadgeClass(scanResults.probe_scores.dns)">
                                        {{ scanResults.probe_scores.dns.toFixed(1) }}%
                                    </div>
                                </h3>
                                
                                <div class="space-y-3">
                                    <div class="flex justify-between">
                                        <span>IPv4/IPv6 Support</span>
                                        <span class="text-success">✅ Both</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>DNSSEC</span>
                                        <span class="text-success">✅ Enabled</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>SPF/DMARC</span>
                                        <span class="text-success">✅ Configured</span>
                                    </div>
                                </div>
                                
                                <div class="card-actions justify-end mt-4">
                                    <button @click="showProbeDetails('dns')" class="btn btn-outline btn-sm">
                                        <i class="fas fa-info-circle"></i> Details
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Security Headers -->
                        <div v-if="scanResults.probe_scores.security_headers !== undefined" class="card bg-base-100 shadow-xl">
                            <div class="card-body">
                                <h3 class="card-title">
                                    <i class="fas fa-lock text-warning"></i>
                                    Security Headers
                                    <div class="badge" :class="getScoreBadgeClass(scanResults.probe_scores.security_headers)">
                                        {{ scanResults.probe_scores.security_headers.toFixed(1) }}%
                                    </div>
                                </h3>
                                
                                <div class="space-y-3">
                                    <div class="flex justify-between">
                                        <span>HSTS</span>
                                        <span class="text-success">✅ Enabled</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>CSP</span>
                                        <span class="text-warning">⚠️ Basic</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>X-Frame-Options</span>
                                        <span class="text-success">✅ DENY</span>
                                    </div>
                                </div>
                                
                                <div class="card-actions justify-end mt-4">
                                    <button @click="showProbeDetails('headers')" class="btn btn-outline btn-sm">
                                        <i class="fas fa-info-circle"></i> Details
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recommendations -->
                    <div v-if="scanResults.recommendations && scanResults.recommendations.length > 0" class="card bg-base-100 shadow-xl">
                        <div class="card-body">
                            <h3 class="card-title">
                                <i class="fas fa-lightbulb text-warning"></i>
                                Recommendations
                            </h3>
                            <div class="space-y-2">
                                <div v-for="(rec, index) in scanResults.recommendations" :key="index" class="alert alert-info">
                                    <i class="fas fa-info-circle"></i>
                                    <span>{{ rec }}</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Critical Issues -->
                    <div v-if="scanResults.critical_issues && scanResults.critical_issues.length > 0" class="card bg-base-100 shadow-xl">
                        <div class="card-body">
                            <h3 class="card-title">
                                <i class="fas fa-exclamation-triangle text-error"></i>
                                Critical Issues
                            </h3>
                            <div class="space-y-2">
                                <div v-for="(issue, index) in scanResults.critical_issues" :key="index" class="alert alert-error">
                                    <i class="fas fa-times-circle"></i>
                                    <span>{{ issue }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Validator View -->
            <div v-if="currentView === 'validator'" class="space-y-6">
                <div class="hero bg-gradient-to-r from-success to-accent text-accent-content rounded-lg">
                    <div class="hero-content text-center">
                        <div class="max-w-md">
                            <h1 class="mb-5 text-4xl font-bold">
                                <i class="fas fa-check-shield"></i>
                                Security Validator
                            </h1>
                            <p class="mb-5">Comprehensive Internet security checklist validation</p>
                        </div>
                    </div>
                </div>

                <!-- Validation content will be implemented here -->
                <div class="card bg-base-100 shadow-xl">
                    <div class="card-body">
                        <h2 class="card-title">Coming Soon</h2>
                        <p>Advanced security validation features are under development.</p>
                    </div>
                </div>
            </div>

            <!-- Analytics View -->
            <div v-if="currentView === 'analytics'" class="space-y-6">
                <div class="hero bg-gradient-to-r from-accent to-neutral text-neutral-content rounded-lg">
                    <div class="hero-content text-center">
                        <div class="max-w-md">
                            <h1 class="mb-5 text-4xl font-bold">
                                <i class="fas fa-chart-line"></i>
                                Internet Analytics
                            </h1>
                            <p class="mb-5">Advanced Internet observability analytics and trends</p>
                        </div>
                    </div>
                </div>

                <!-- Analytics content will be implemented here -->
                <div class="card bg-base-100 shadow-xl">
                    <div class="card-body">
                        <h2 class="card-title">Coming Soon</h2>
                        <p>Internet observability analytics dashboard is under development.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Help Modal -->
        <div v-if="showHelp" class="modal modal-open">
            <div class="modal-box">
                <h3 class="font-bold text-lg">
                    <i class="fas fa-question-circle text-info"></i>
                    DQIX Help
                </h3>
                <div class="py-4 space-y-4">
                    <div>
                        <h4 class="font-semibold">Internet Scanner</h4>
                        <p class="text-sm text-base-content/70">Analyze domain security and compliance across TLS, HTTPS, DNS, and Security Headers.</p>
                    </div>
                    <div>
                        <h4 class="font-semibold">Detail Levels</h4>
                        <ul class="text-sm text-base-content/70 list-disc ml-4">
                            <li><strong>Basic:</strong> Essential security overview</li>
                            <li><strong>Standard:</strong> Comprehensive security analysis</li>
                            <li><strong>Full:</strong> Detailed technical information</li>
                            <li><strong>Technical:</strong> In-depth technical analysis</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-semibold">Probe Types</h4>
                        <ul class="text-sm text-base-content/70 list-disc ml-4">
                            <li><strong>TLS:</strong> SSL/TLS protocol and certificate analysis</li>
                            <li><strong>HTTPS:</strong> HTTPS implementation and accessibility</li>
                            <li><strong>DNS:</strong> DNS infrastructure and email security</li>
                            <li><strong>Headers:</strong> HTTP security headers analysis</li>
                        </ul>
                    </div>
                </div>
                <div class="modal-action">
                    <button @click="showHelp = false" class="btn">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;
        
        createApp({
            data() {
                return {
                    currentView: 'scanner',
                    scanDomain: '',
                    isScanning: false,
                    scanResults: null,
                    showHelp: false,
                    scanOptions: {
                        detail: 'standard',
                        probe: '',
                        timeout: 30
                    }
                }
            },
            methods: {
                async startScan() {
                    if (!this.scanDomain || this.isScanning) return;
                    
                    this.isScanning = true;
                    this.scanResults = null;
                    
                    try {
                        // Simulate API call - replace with actual DQIX API
                        await new Promise(resolve => setTimeout(resolve, 2000));
                        
                        // Mock results for demonstration
                        this.scanResults = {
                            domain: this.scanDomain,
                            overall_score: Math.random() * 40 + 60, // 60-100%
                            security_grade: 'A',
                            compliance_level: 'Advanced',
                            probe_scores: {
                                tls: Math.random() * 20 + 80,
                                https: Math.random() * 30 + 70,
                                dns: Math.random() * 25 + 75,
                                security_headers: Math.random() * 40 + 40
                            },
                            recommendations: [
                                'Implement stronger Content Security Policy',
                                'Enable HSTS preloading for enhanced security'
                            ],
                            critical_issues: []
                        };
                        
                    } catch (error) {
                        console.error('Scan failed:', error);
                    } finally {
                        this.isScanning = false;
                    }
                },
                
                quickTest(domain) {
                    this.scanDomain = domain;
                    this.startScan();
                },
                
                getScoreClass(score) {
                    if (score >= 90) return 'text-success';
                    if (score >= 80) return 'text-info';
                    if (score >= 60) return 'text-warning';
                    return 'text-error';
                },
                
                getScoreProgressClass(score) {
                    if (score >= 90) return 'bg-success';
                    if (score >= 80) return 'bg-info';
                    if (score >= 60) return 'bg-warning';
                    return 'bg-error';
                },
                
                getScoreBadgeClass(score) {
                    if (score >= 90) return 'badge-success';
                    if (score >= 80) return 'badge-info';
                    if (score >= 60) return 'badge-warning';
                    return 'badge-error';
                },
                
                getGradeBadgeClass(grade) {
                    if (['A+', 'A'].includes(grade)) return 'badge-success';
                    if (grade === 'B') return 'badge-info';
                    if (grade === 'C') return 'badge-warning';
                    return 'badge-error';
                },
                
                showProbeDetails(probe) {
                    // Implement detailed probe information modal
                    console.log('Show details for probe:', probe);
                },
                
                toggleTheme(event) {
                    const newTheme = event.target.checked ? 'dark' : 'light';
                    document.documentElement.setAttribute('data-theme', newTheme);
                }
            }
        }).mount('#app');
    </script>
</body>
</html> 